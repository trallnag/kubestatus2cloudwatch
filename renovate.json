{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",

  "extends": [
    ":configMigration",
    "config:recommended",
    "docker:enableMajor",
    "docker:pinDigests",
    "helpers:pinGitHubActionDigests",
    "schedule:weekends"
  ],

  "commitBody": "Co-authored-by: Tim Schwenke <tim@trallnag.com>",

  "commitMessageLowerCase": "never",

  "minimumReleaseAge": "21 days",

  "semanticCommits": "enabled",

  "prHourlyLimit": 10,

  "lockFileMaintenance": {
    "enabled": true
  },

  "pre-commit": {
    "enabled": true,
    "prBodyNotes": [""]
  },

  "packageRules": [
    {
      "groupName": "GitHub Actions (official)",
      "groupSlug": "github-actions-official",
      "matchUpdateTypes": ["digest"],
      "matchManagers": ["github-actions"],
      "matchPackageNames": ["actions/**"]
    }
  ],
  "customManagers": [
    {
      "customType": "regex",
      "description": "Manage *_IMAGE_NAME variables in .env pointing to Docker images",
      "fileMatch": ["^\\.env$"],
      "matchStrings": [
        "_IMAGE_NAME=\"(?<depName>.+):(?<currentValue>.+)\""
      ],
      "datasourceTemplate": "docker",
      "versioningTemplate": "docker"
    }
  ]
}
